\hypertarget{_file_watcher_8h_source}{}\doxysection{File\+Watcher.\+h}
\label{_file_watcher_8h_source}\index{FileWatcher.h@{FileWatcher.h}}
\mbox{\hyperlink{_file_watcher_8h}{\mbox{[}詳解\mbox{]}}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00001}00001\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}\textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00002}00002\ \textcolor{comment}{//!\ @file\ \ \ FileWatcher.h}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00003}00003\ \textcolor{comment}{//!\ @brief\ \ ファイル変更監視}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00004}00004\ \textcolor{comment}{}\textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00005}00005\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00007}00007\ \textcolor{comment}{//===========================================================================}\textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00008}00008\ \textcolor{comment}{//!\ ファイル変更監視}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00009}00009\ \textcolor{comment}{}\textcolor{comment}{//===========================================================================}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00010}\mbox{\hyperlink{class_file_watcher}{00010}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_file_watcher}{FileWatcher}}\ \{}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00011}00011\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00012}00012\ \ \ \ \ \textcolor{comment}{//\ 初期化}\textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00013}00013\ \textcolor{comment}{\ \ \ \ //!\ @param\ \ [in]\ \ \ \ path\ \ \ \ 監視対象のディレクトリパス}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00014}00014\ \textcolor{comment}{\ \ \ \ //!\ @param\ \ [in]\ \ \ \ callback\ \ \ \ ファイル変更通知のコールバック関数}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00015}00015\ \textcolor{comment}{}\ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_file_watcher_a7db0265065f45b87e930ca0acc4070fc}{initialize}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{wchar\_t}*\ path,\ std::function<\textcolor{keywordtype}{void}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{wchar\_t}*)>\ callback);}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00017}00017\ \ \ \ \ \textcolor{comment}{//\ 更新}\textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00018}00018\ \textcolor{comment}{\ \ \ \ //!\ @note\ メインループで呼ぶ必要がある}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00019}00019\ \textcolor{comment}{}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_file_watcher_af2a7434835ea10f3e5c2fae51de973e4}{update}}();}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00021}00021\ \ \ \ \ \textcolor{comment}{//\ コンストラクタ}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00022}\mbox{\hyperlink{class_file_watcher_aca46b12ad08d4c103aeef4c0a607d56c}{00022}}\ \ \ \ \ \mbox{\hyperlink{class_file_watcher_aca46b12ad08d4c103aeef4c0a607d56c}{FileWatcher}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00024}00024\ \ \ \ \ \textcolor{comment}{//\ デストラクタ}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00025}00025\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_file_watcher_a461b5b2c3564c78e76ed3f7a3d6792a1}{\string~FileWatcher}}();}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00027}00027\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00028}00028\ \ \ \ \ \textcolor{comment}{//\ ファイル監視を開始}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00029}00029\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_file_watcher_a79bcb82abf1670ea2d67c771a7d319c3}{start}}();}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00031}00031\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00032}\mbox{\hyperlink{class_file_watcher_a6fd652f4ee18618d9ed9872890cee55e}{00032}}\ \ \ \ \ HANDLE\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_file_watcher_a6fd652f4ee18618d9ed9872890cee55e}{finish\_event\_}}\ \ \ \ \ =\ INVALID\_HANDLE\_VALUE;\ \ \ \ \textcolor{comment}{//!<\ 非同期IO完了通知イベント}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00033}\mbox{\hyperlink{class_file_watcher_a8827a8a00b2a1b7558a46ab5d6c120f3}{00033}}\ \ \ \ \ HANDLE\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_file_watcher_a8827a8a00b2a1b7558a46ab5d6c120f3}{handle\_directory\_}}\ =\ INVALID\_HANDLE\_VALUE;\ \ \ \ \textcolor{comment}{//!<\ 監視先ディレクトリハンドル}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00034}\mbox{\hyperlink{class_file_watcher_a933b07b27cba6732d69b863553ff0f40}{00034}}\ \ \ \ \ std::vector<u8>\ \mbox{\hyperlink{class_file_watcher_a933b07b27cba6732d69b863553ff0f40}{buffer\_}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//!<\ ファイルリスト受信用バッファ}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00035}\mbox{\hyperlink{class_file_watcher_aec64232fd9f71e4fc0eb5771ba0d8ea4}{00035}}\ \ \ \ \ OVERLAPPED\ \ \ \ \ \ \mbox{\hyperlink{class_file_watcher_aec64232fd9f71e4fc0eb5771ba0d8ea4}{overlapped\_}}\ =\ \{\};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//!<\ 非同期IO}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00036}\mbox{\hyperlink{class_file_watcher_a7c2c5e3bc21247b7add11fa6e8096b36}{00036}}\ \ \ \ \ std::function<void(\textcolor{keyword}{const}\ \textcolor{keywordtype}{wchar\_t}*)>\ \mbox{\hyperlink{class_file_watcher_a7c2c5e3bc21247b7add11fa6e8096b36}{callback\_}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//!<\ ファイル変更時のコールバック関数}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00037}\mbox{\hyperlink{class_file_watcher_a1ba7642346a4c2af43cdf8d3262c4083}{00037}}\ \ \ \ \ std::wstring\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_file_watcher_a1ba7642346a4c2af43cdf8d3262c4083}{full\_path\_}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//!<\ 監視中のフルパス}}
\DoxyCodeLine{\Hypertarget{_file_watcher_8h_source_l00038}00038\ \};}

\end{DoxyCode}
